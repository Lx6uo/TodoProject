<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>TODO APP</title>
    <link
      rel="icon"
      href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='0.9em' font-size='90'%3E%F0%9F%93%85%3C/text%3E%3C/svg%3E"
    />
    <link rel="stylesheet" href="assets/css/style.css" />
  </head>
  <body>
    <div class="page">
      <header class="topbar">
        <div class="brand">
          <div>
            <p class="eyebrow">TODO list</p>
            <h1 class="title">待办清单小程序</h1>
          </div>
        </div>
        <div class="top-actions">
          <div class="theme-switch">
            <span class="theme-label">主题</span>
            <label class="switch">
              <input id="themeToggle" type="checkbox" role="switch" aria-label="切换主题" />
              <span class="slider"></span>
            </label>
          </div>
        </div>
      </header>

      <nav class="nav-bar" aria-label="页面导航">
        <div class="nav-links">
          <a class="nav-link active" href="index.html">📝 任务清单</a>
          <a class="nav-link" href="calendar.html">📅 日历</a>
          <a class="nav-link" href="analytics.html">📊 数据分析</a>
        </div>
      </nav>

      <div class="layout">
        <aside class="sidebar">
          <div class="sidebar-header">
            <h2>列表</h2>
            <button id="addListBtn" class="primary-btn" type="button">新建列表 ➕</button>
          </div>
          <ul id="listContainer" class="list-items" aria-label="任务列表"></ul>
        </aside>

        <main class="content">
          <section class="toolbar">
            <div class="toolbar-left">
              <div class="current-list">
                <span class="label">当前列表</span>
                <span id="currentListName" class="value">-</span>
              </div>
              <button id="openTaskModalBtn" class="primary-btn" type="button">
                新建任务 ➕
              </button>
            </div>
            <div class="toolbar-right">
              <div class="field">
                <label for="statusFilter">状态</label>
                <select id="statusFilter">
                  <option value="all">全部</option>
                  <option value="active">进行中</option>
                  <option value="completed">已完成</option>
                </select>
              </div>
              <div class="field">
                <label for="sortSelect">排序</label>
                <select id="sortSelect">
                  <option value="manual">手动</option>
                  <option value="priority">优先级</option>
                  <option value="dueDate">截止日期</option>
                </select>
              </div>
              <div class="field search-field">
                <label for="searchInput">搜索</label>
                <input id="searchInput" type="search" placeholder="搜索任务..." />
              </div>
              <button id="undoBtn" class="ghost-btn" type="button">↩ 撤销</button>
              <button id="redoBtn" class="ghost-btn" type="button">↪ 重做</button>
              <div class="inline-actions">
                <button id="exportDataBtn" class="ghost-btn" type="button">
                  导出数据
                </button>
                <button id="importDataBtn" class="ghost-btn" type="button">
                  导入数据
                </button>
              </div>
              <input
                id="importFileInput"
                type="file"
                accept="application/json"
                hidden
              />
            </div>
          </section>

          <section id="taskPanel" class="panel">
            <div>
              <div id="statsSummary" class="summary-cards" aria-live="polite"></div>
              <p id="reorderHint" class="hint"></p>
            </div>

            <ul id="taskList" class="task-list" aria-live="polite"></ul>
            <div class="pager-compact" aria-label="任务分页">
              <label for="taskPageSize">每页</label>
              <select id="taskPageSize">
                <option value="5">5</option>
                <option value="10">10</option>
                <option value="20">20</option>
                <option value="50">50</option>
              </select>
              <button id="taskPrevPage" type="button">上一页</button>
              <span id="taskPageInfo" class="pager-info">第 1 / 1 页</span>
              <button id="taskNextPage" type="button">下一页</button>
            </div>
          </section>

          <section class="panel">
            <div class="panel-header">
              <h2>最近操作记录</h2>
              <span class="hint">记录新建、编辑、完成、撤销等操作</span>
            </div>
            <ul id="eventLogList" class="event-log" aria-live="polite"></ul>
            <div class="pager-compact" aria-label="操作记录分页">
              <label for="eventPageSize">每页</label>
              <select id="eventPageSize">
                <option value="5">5</option>
                <option value="10">10</option>
                <option value="20">20</option>
                <option value="50">50</option>
              </select>
              <button id="eventPrevPage" type="button">上一页</button>
              <span id="eventPageInfo" class="pager-info">第 1 / 1 页</span>
              <button id="eventNextPage" type="button">下一页</button>
            </div>
          </section>
        </main>
      </div>
    </div>

    <div
      id="taskModal"
      class="modal hidden"
      role="dialog"
      aria-modal="true"
      aria-labelledby="taskModalTitle"
    >
      <div class="modal-backdrop" data-action="close-modal"></div>
      <div class="modal-content">
        <div class="modal-header">
          <h2 id="taskModalTitle">新建任务</h2>
          <button class="ghost-btn" type="button" data-action="close-modal">
            ✖ 关闭
          </button>
        </div>
        <form id="taskForm" class="task-form">
          <div class="field">
            <label for="taskTitle">标题</label>
            <input id="taskTitle" type="text" placeholder="需要做什么？" required />
          </div>
          <div class="field">
            <label for="taskNote">备注</label>
            <input id="taskNote" type="text" placeholder="可选说明" />
          </div>
          <div class="field">
            <label for="taskPriority">优先级</label>
            <select id="taskPriority">
              <option value="low">低</option>
              <option value="medium" selected>中</option>
              <option value="high">高</option>
            </select>
          </div>
          <div class="field">
            <label for="taskDueDate">截止日期</label>
            <input id="taskDueDate" type="date" />
          </div>
          <div class="field">
            <label for="taskListSelect">所属列表</label>
            <select id="taskListSelect"></select>
          </div>
          <div class="form-actions">
            <button id="taskSubmitBtn" class="primary-btn" type="submit">添加任务</button>
            <button id="cancelEditBtn" class="ghost-btn" type="button">
              取消
            </button>
          </div>
        </form>
      </div>
    </div>

    <script type="module" src="assets/js/app.js"></script>
  </body>
</html>
